{% extends 'bootstrap/base.html'%}

{% block title%}
    {{title}}
{%endblock%}

{%block styles%}
{{super()}}
<link rel="stylesheet" href="{{url_for('static', filename='styles/styles.css')}}">
{%endblock%}



{%block body%}
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">  
                <div class="page-header">
                  <h1>JOIN FOR US  <small>registration</small></h1>
                </div>
                <form method="post" action="" enctype="multipart/form-data">
                    {{form.hidden_tag()}}
                    <div class="form-row">
                        <div class="form-group col-md-8">
                            <div class="form-group row">
                                <div class="col-10">
                                    {{form.username.label(class="col-2 col-form-label")}} 
                                    {{form.username(class="form-control", id='username')}}
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-10">
                                    {{form.email.label(class="col-2 col-form-label")}} 
                                    {{form.email(class="form-control", id='email')}}
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-10">
                                    {{form.planet.label(class="col-2 col-form-label")}} 
                                    {{form.planet(class="form-control")}}
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-10">
                                    {{form.password.label(class="col-2 col-form-label")}} 
                                    {{form.password(class="form-control")}}
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-10">
                                    {{form.confirm_password.label(class="col-2 col-form-label")}} 
                                    {{form.confirm_password(class="form-control")}}
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="imagebox">
                                    <input type="file" name="file" id="profileImage" onchange="displayImage(this)" class="upload-file" style="display: none;">
                                  
                                    <img src="../static/images/im.png" onclick="triggerClick()" alt="" id="profileDisplay">
                                </div>
                            </div>
                        </div>
                    </div>
                   
                </div>
                    <p><a  href="{{url_for('login')}}">Already have a Account?</a></p>
                </div>
                    <div class="form-group">
                        {{form.submit(class="btn btn-success btn-lg")}}
                    </div>
                </form>  
            
            </div>
            
            
        </div>
        
    </div>
    <script>
        

function triggerClick(){
    document.querySelector('#profileImage').click();
}

function displayImage(e){
    if(e.files[0]){
        var reader = new FileReader();

        reader.onload = function(e){
            document.querySelector('#profileDisplay').setAttribute('src', e.target.result);
        }
        reader.readAsDataURL(e.files[0]);
    }
}
    </script>
   
{%endblock%}

{%block scripts%}
{{super()}}
<script type="text/javascript" src="{{url_for('static', filename='scripts/script.js')}}"></script>
{%endblock%}